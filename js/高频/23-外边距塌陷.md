# 外边距塌陷

[toc]

## 清除方法

```css
/* 嵌套盒子 */
/* 父盒子 */
#box3 {
  width: 300px;
  height: 300px;
  margin: 30px;
  /* 解决外边框塌陷的几种方式 */
  /* 1. 给父元素设置border */
  /* border: 1px solid black; */
  /* 2. 给父元素设置padding */
  /* 注意撑大父盒子 */
  /* padding: 5px; */
  /* 3. 给父元素添加overflow-hidden属性 */
  /* overflow: hidden; */
  /* 4. 给父元素或者自元素增加浮动，使其脱离标准流 */
  /* float: left; */
  /* 5. 将父元素转换为行内块元素 */
  /* display: inline-block; */
  /* 6.给父元素或者自元素添加定位，脱离标准流 */
  /* position: absolute; */
  /* 7. 给父元素增加flex或者inline-flex */
  display: flex;
  background: red;
}
/* 子盒子 */
#box4 {
  width: 200px;
  height: 200px;
  margin: 20px auto;
  background: green;
}
```

### 让元素形成BFC的布局就可以解决外边距塌陷

BFC全称是box-formatting-context (块级格式化上下文) 它是一个独立的渲染区域规定了内部block-level的盒子如何渲染并且不影响外部元素。

BFC的规则或者说是特点

- 1.独立且隔离的一个区域
- 2.里面的盒子垂直排列
- 3.属于同一个BFC相邻的俩个盒子（父子关系 相邻的兄弟关系）会有内边距重叠
- 4.BFC的区域不会与float重叠；
- 5.计算BFC的高度时，浮动元素也参与计算。

创建BFC（解决方案）

- 1、border-top：1px solid;（这个解决方法最好，但它其实并不是BFC，相当于加了一堵墙不让margin-top冲出去。下面的 2-6 都是BFC，虽然可以解决问题，但有一些副作用，很有可能会影响原来元素的功能，比如父元素本来不应该浮动，虽然你设置浮动之后解决margin塌陷但是使得元素本来的正常功能受到影响）
- 2、浮动元素（元素的 float 不是 none）
- 3、绝对定位元素（元素的 position 为 absolute 或 fixed）
- 4、行内块元素
- 5、overflow 值不为 visible 的块元素
- 6、弹性元素（display为 flex 或 inline-flex元素的直接子元素）
